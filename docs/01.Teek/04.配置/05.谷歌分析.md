---
categories:
- Teek
coverImg: /home/bg12.webp
date: 2025-03-23 23:14:15
permalink: /Teek/328372
title: 谷歌分析
---
::: tip
利用插件 [google-analytics](https://analytics.google.com/) ，来查看网站访问量

这里我们用 [@ZhongxuYang/vitepress-plugin-google-analytics](https://github.com/ZhongxuYang/vitepress-plugin-google-analytics) 的插件
:::
::: warning 注意
Teek 主题已支持谷歌分析，详情查看 [站点统计](https://vp.teek.top/guide/statistics)
:::

## 账号注册

访问： [点击跳转](https://analytics.google.com/) (opens new window)没有账号注册一个账号。

根据提示创建 Analytics 账号,添加自己的网站信息，之后会获取一个统计代码：

![](https://resource-ai.helplook.net/docker_production/qkknm3s7/article/sOZHg5pK/67fe1bb6cbf05.png)

## 安装插件

::: tip

- `推荐使用 pnpm 安装`,我在子项目的，所以需要切换到子项目的 `Demo\docs-base` 目录下安装

:::

::: code-group 推荐使用 pnpm 安装

```sh [pnpm]
cd Demo\docs-base
pnpm add -D vitepress-plugin-google-analytics
```

```sh [yarn]
yarn add -D vitepress-plugin-google-analytics
```

```sh [npm]
npm install vitepress-plugin-google-analytics
```

```sh [bun]
bun add -D vitepress-plugin-google-analytics
```

:::

## 配置插件

- 在 `Demo\docs-base\.vitepress\theme\index.ts` 中进行配置

```ts{1,9-13}
import googleAnalytics from "vitepress-plugin-google-analytics"; // 引入谷歌统计插件 [!code focus]
export default {
  extends: Teek,
  DefaultTheme,
  Layout: defineComponent({

      return () =>
        h(Teek.Layout, null, {// [!code focus:7]
          "layout-top": () => h(notice), // 使用layout-top插槽
          googleAnalytics: () =>
            h(googleAnalytics, {
              id: "G-******",  //跟踪ID，在analytics.google.com注册即可
            }), // 使用googleAnalytics插槽
          "Teek-notice-content": () => h(NoticeContent),
        });
    },
  }),
};
```
